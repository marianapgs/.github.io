---
title: "IntroduÃ§Ã£o Ã  anÃ¡lise de dados com R"
author: "Mariana de Paula Gomes"
format: 
  html:
    css: styles.css
editor: visual
---


## Bem-vindos! 

âœ… Certifiquem-se de que o R foi instalado e estÃ¡ em bom funcionamento.

## Objetivos

ğŸ“Œ Foco em pesquisas pesquisas acadÃªmicas

ğŸ“Œ VizualizaÃ§Ã£o, processamento e anÃ¡lise dos dados

ğŸ“Œ ConclusÃ£o sobre a informaÃ§Ã£o dos dados




## EstatÃ­stica descritiva

- Quantitativas (numÃ©ricas)
- Qualitativas (categÃ³ricas)

### Tipos de variÃ¡veis

```{r}
#Carregando o diretÃ³rio
setwd("C:/Users/marip/Documents/Cursos")

#Importando o conjunto de dados numÃ©ricos .txt
dados_iris<- read.table(file = "iris_dataset.txt",header = TRUE,sep="\t")
attach(dados_iris)

#VisualizaÃ§Ã£o dos dados
#View(dados_iris)

#Resumo das informaÃ§Ãµes do conjunto de dados
summary(dados_iris)
#Fatores
summary(factor(dados_iris$especie))
    
```


```{r}
#Carregando conjunto de dados categÃ³ricos .csv
dados_titanic<- read.csv(file = "titanic.csv")

#VisualizaÃ§Ã£o dos dados
View(dados_titanic)

#Resumo das informaÃ§Ãµes do conjunto de dados
summary(dados_titanic)
```


### Medidas de tendÃªncia central

- MÃ©dia
```{r}
media<-mean(dados_iris$comprimento.da.sepala..cm.)
media
```
- Mediana
```{r}
mediana<-median(dados_iris$comprimento.da.sepala..cm.)
mediana
```

### Medidas de dispersÃ£o 

- VariÃ¢ncia e desvio padrÃ£o
```{r}
variancia<-var(dados_iris$comprimento.da.petala..cm.)
desv_pad<-sd(dados_iris$comprimento.da.sepala..cm.)
variancia
desv_pad

```
Figura 1: Posicionamento da mÃ©dia e mediana em dados simÃ©ticos
![Posicionamento da mÃ©dia e mediana em dados simÃ©ticos](img_media_mediana 2024-10-02 114955.png)

- Coeficiente de variaÃ§Ã£o
```{r}
cv<-desv_pad/media*100
cv
```

```{r}
# Criando a tabela de frequÃªncias para a variÃ¡vel "Class"
tabela_frequencia_classe <- xtabs(Freq ~ Class, data = dados_titanic)
tabela_frequencia_classe

```

### GrÃ¡ficos

- Plot
```{r}
plot(iris$Sepal.Length, iris$Sepal.Width, 
     main = "RelaÃ§Ã£o entre Comprimento e Largura da SÃ©pala", 
     xlab = "Comprimento da SÃ©pala (cm)", 
     ylab = "Largura da SÃ©pala (cm)")

```

```{r}
plot(iris$Sepal.Length, iris$Sepal.Width, 
     col = as.factor(iris$Species), 
     pch = 19, 
     main = "RelaÃ§Ã£o entre Comprimento e Largura da SÃ©pala por EspÃ©cie", 
     xlab = "Comprimento da SÃ©pala (cm)", 
     ylab = "Largura da SÃ©pala (cm)")
legend("topright", legend = levels(iris$Species), col = 1:3, pch = 19)


```

- Histograma 
```{r}
hist(dados_iris$comprimento.da.sepala..cm.,col="lightblue",probability=TRUE)
lines(density(dados_iris$comprimento.da.sepala..cm.))
```
- GrÃ¡ficos de barras
```{r}
# Contando o nÃºmero de flores por espÃ©cie
especie <- table(iris$Species)

# Criando o barplot
barplot(especie, 
        main = "NÃºmero de Flores por EspÃ©cie", 
        xlab = "EspÃ©cie", 
        ylab = "Contagem", 
        col = c("lightblue", "lightgreen", "lightpink"))

```
```{r}
# Criando um grÃ¡fico de barras
barplot(tabela_frequencia_classe, 
        main = "DistribuiÃ§Ã£o de Passageiros por Classe",
        xlab = "Classe",
        ylab = "FrequÃªncia",
        col = c("lightblue", "lightgreen", "lightcoral"),
        border = "black")
```


- GrÃ¡fico de pizza (pie chart)
```{r}
# Criando o grÃ¡fico de pizza
pie(especie, 
    main = "DistribuiÃ§Ã£o de EspÃ©cies no Conjunto iris", 
    col = c("lightblue", "lightgreen", "lightpink"),
    labels = paste(names(especie), ":", especie))

```
```{r}
# Criando o grÃ¡fico de pizza para a variÃ¡vel SobrevivÃªncia
# Tabela de frequÃªncia por sobrevivÃªncia
tabela_frequencia_sobrevivencia <- xtabs(Freq ~ Survived, data = dados_titanic)

pie(tabela_frequencia_sobrevivencia, 
    main = "ProporÃ§Ã£o de Sobreviventes",
    col = c("lightgreen", "lightcoral"))
```
```{r}
pie(tabela_frequencia_classe, 
    main = "ProporÃ§Ã£o de Passageiros por Classe", 
    col = c("lightblue", "lightgreen", "lightcoral"))
```

- Boxplot
```{r}
# Criando um boxplot do comprimento da sÃ©pala por espÃ©cie
boxplot(Sepal.Length ~ Species, 
        data = iris, 
        main = "Boxplot do Comprimento da SÃ©pala por EspÃ©cie",
        xlab = "EspÃ©cie", 
        ylab = "Comprimento da SÃ©pala (cm)", 
        col = c("lightblue", "lightgreen", "lightpink"))

```
```{r}
# Tabela de contingÃªncia cruzando Classe e Idade
tabela_xtabs <- xtabs(Freq ~ Class + Age, data = dados_titanic)

# Criando um boxplot da Idade em funÃ§Ã£o da SobrevivÃªncia
boxplot(Freq ~ Class, data = dados_titanic,
        main = "DistribuiÃ§Ã£o da Idade por SobrevivÃªncia",
        xlab = "Sobreviveu",
        ylab = "Idade",
        col = c("lightgreen", "lightcoral"))
```

## ConclusÃµes sobre os dados

- Teste de hipÃ³tese

Para chegar a conclusÃµes sobre os dados que nos auxiliem na tomada de decisÃµes devemos testar nossa hipÃ³tese para verificar sua veracidade. 

ğŸ“Œ Todas as espÃ©cies tem a mesma mÃ©dia de comprimento de sÃ©pala?

  $H_{0}$: todas as espÃ©cies tem a mesmo comprimento mÃ©dio de sÃ©pala. 
$$H_{0}: \mu_{versicolor} = \mu_{setosa} = \mu_{virginica}$$
  $H_{1}$: ao menos uma das espÃ©cies nÃ£o tem o mesmo comprimento mÃ©dio de sÃ©pala. 
  
```{r}
# Realizando a ANOVA
anova_result <- aov(comprimento.da.sepala..cm. ~ especie, data = dados_iris)

# Exibindo o resumo da ANOVA
summary(anova_result)
```

ConclusÃ£o: Como p-valor<0,05, conclui-se que hÃ¡ diferenÃ§a significativa entre o comprimento mÃ©dio das sÃ©palas das espÃ©cies ao nÃ­vel de confianÃ§a de 5%. Portanto, as espÃ©cies nÃ£o possuem mesmo comprimento mÃ©dio de sÃ©pala.

ğŸ“Œ Qual espÃ©cie tem maior comprimento de sÃ©pala? 

```{r}
# Realizando o teste de Tukey
TukeyHSD(anova_result)
```
ğŸŸ¡ Versicolor vs. Setosa: 

HÃ¡ uma diferenÃ§a significativa no comprimento da sÃ©pala entre as espÃ©cies Versicolor e Setosa, com a mÃ©dia de Versicolor sendo 0.930 cm maior que a de Setosa. O intervalo de confianÃ§a nÃ£o inclui 0, o que indica que a diferenÃ§a Ã© estatisticamente significativa.


ğŸŸ  Virginica vs. Setosa:     

A diferenÃ§a no comprimento da sÃ©pala entre as espÃ©cies Virginica e Setosa Ã© significativa, com a mÃ©dia de Virginica sendo 1.582 cm maior que a de Setosa. O intervalo de confianÃ§a nÃ£o inclui 0, reforÃ§ando que a diferenÃ§a Ã© estatisticamente significativa.


ğŸŸ¢ Virginica vs. Versicolor:

A espÃ©cie Virginica tambÃ©m tem um comprimento mÃ©dio de sÃ©pala significativamente maior que Versicolor, com uma diferenÃ§a de 0.652 cm. O intervalo de confianÃ§a tambÃ©m nÃ£o inclui 0, indicando significÃ¢ncia estatÃ­stica.


## RegressÃ£o Linear 

\textbf{Quando usar?}

Quando se deseja descrever a relaÃ§Ã£o de variÃ¡veis explicativas com uma variÃ¡vel dependente. Apenas para variÃ¡veis quantitativas.

ğŸ“Œ RegressÃ£o linear simples 
$$y = \beta_{0} + \beta_{1}x $$
ğŸ“Œ RegressÃ£o linear mÃºltipla 
$$y = \beta_{0} + \beta_{1}x + \beta_{2}x_{2} + ... + \beta_{k}x_{k}$$

### Modelo estatÃ­stico
Na equaÃ§Ã£o abaixo temos a i-Ã©sima observaÃ§Ã£o da variÃ¡vel y sendo descrita pela funÃ§Ã£o linear em que $\beta_{0}$ Ã© o coeficiente linear e $\beta_{1}$ Ã© o coeficiente angular que acompanha o i-Ã©simo valor da variÃ¡vel explicativa $x_{1}$. O termo $e_{i}$ corresponde ao erro aleatÃ³rio, que nÃ£o Ã© explicado pelo modelo, associado a cada observaÃ§Ã£o i. 
$$y_{i} = \beta_{0} + \beta_{1}x_{1i} + e_{i}$$

```{r}
#Importando o conjunto de dados numÃ©ricos .txt
dados_plants<- read.table(file = "PlantGrowth.txt",header = TRUE,sep="\t")
attach(dados_plants)
head(dados_plants)
summary(dados_plants)

```

```{r}
# Boxplot para visualizar a distribuiÃ§Ã£o dos pesos por grupo de tratamento
boxplot(peso ~ tratamento, data = dados_plants,
        main = "DistribuiÃ§Ã£o dos Pesos das Plantas por Tratamento",
        xlab = "Tratamento", ylab = "Peso (g)",
        col = c("lightblue", "lightgreen", "lightpink"))
```




```{r}
# Ajustar o modelo de regressÃ£o linear simples
modelo <- lm(peso ~ tratamento, data = dados_plants)

# Ver os resultados do modelo
summary(modelo)
```

### ConclusÃµes da regressÃ£o

ğŸŸ¡ (Intercept): O valor estimado para o intercepto Ã© 5.0320. Isso significa que o peso mÃ©dio das plantas no grupo de controle (grupo de referÃªncia) Ã© de aproximadamente 5.03 unidades.

ğŸŸ¢ tratamento trt1: O coeficiente associado ao tratamento trt1 Ã© -0.3710. Isso significa que as plantas no tratamento trt1 tendem a pesar cerca de 0.371 unidades a menos que o grupo de controle, embora essa diferenÃ§a nÃ£o seja estatisticamente significativa (p = 0.1944, maior que 0.05).

ğŸŸ  tratamento trt2: O coeficiente associado ao tratamento trt2 Ã© 0.4940. Isso indica que as plantas no tratamento trt2 pesam em mÃ©dia 0.494 unidades a mais que as do grupo de controle. No entanto, a significÃ¢ncia Ã© marginal, com um valor-p de 0.0877 (um pouco acima do limite tradicional de 0.05, mas com indicaÃ§Ã£o de uma possÃ­vel tendÃªncia).


